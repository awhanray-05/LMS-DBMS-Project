{"ast":null,"code":"import _objectSpread from\"C:/Drive_D/IIITDM_Kurnool_College_Materials/3rd_Year/5th_Sem/DBMS_PROJECT_NEW/LMS-DBMS/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{useForm}from'react-hook-form';import{ArrowLeft,Save,Loader,Search}from'lucide-react';import{membersAPI,booksAPI,transactionsAPI}from'../services/api';import LoadingSpinner from'../components/LoadingSpinner';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const IssueBook=()=>{const navigate=useNavigate();const[loading,setLoading]=useState(false);const[saving,setSaving]=useState(false);const[members,setMembers]=useState([]);const[books,setBooks]=useState([]);const[selectedMember,setSelectedMember]=useState(null);const[selectedBook,setSelectedBook]=useState(null);const[memberSearchTerm,setMemberSearchTerm]=useState('');const[bookSearchTerm,setBookSearchTerm]=useState('');const{register,handleSubmit,formState:{errors},setValue,watch}=useForm();const memberId=watch('member_id');const bookId=watch('book_id');useEffect(()=>{if(memberId){fetchMemberDetails(memberId);}},[memberId]);useEffect(()=>{if(bookId){fetchBookDetails(bookId);}},[bookId]);const fetchMemberDetails=async id=>{try{const response=await membersAPI.getMemberById(id);setSelectedMember(response.data);}catch(error){console.error('Error fetching member:',error);setSelectedMember(null);}};const fetchBookDetails=async id=>{try{const response=await booksAPI.getBookById(id);setSelectedBook(response.data);}catch(error){console.error('Error fetching book:',error);setSelectedBook(null);}};const searchMembers=async query=>{if(query.length<2){setMembers([]);return;}try{setLoading(true);const response=await membersAPI.getMembers({search:query,limit:10});setMembers(response.data.members);}catch(error){console.error('Error searching members:',error);toast.error('Failed to search members');}finally{setLoading(false);}};const searchBooks=async query=>{if(query.length<2){setBooks([]);return;}try{setLoading(true);const response=await booksAPI.getBooks({search:query,limit:10});setBooks(response.data.books);}catch(error){console.error('Error searching books:',error);toast.error('Failed to search books');}finally{setLoading(false);}};const handleMemberSearch=e=>{const query=e.target.value;setMemberSearchTerm(query);searchMembers(query);};const handleBookSearch=e=>{const query=e.target.value;setBookSearchTerm(query);searchBooks(query);};const selectMember=member=>{setSelectedMember(member);setValue('member_id',member.id);setMemberSearchTerm(\"\".concat(member.firstName,\" \").concat(member.lastName,\" (\").concat(member.email,\")\"));setMembers([]);};const selectBook=book=>{setSelectedBook(book);setValue('book_id',book.id);setBookSearchTerm(\"\".concat(book.title,\" by \").concat(book.author));setBooks([]);};const onSubmit=async data=>{try{setSaving(true);// Calculate due date (default 14 days from now)\nconst dueDate=new Date();dueDate.setDate(dueDate.getDate()+14);data.due_date=dueDate.toISOString().split('T')[0];await transactionsAPI.issueBook(data);toast.success('Book issued successfully');navigate('/transactions');}catch(error){console.error('Error issuing book:',error);toast.error('Failed to issue book');}finally{setSaving(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate('/transactions'),className:\"inline-flex items-center text-sm text-gray-500 hover:text-gray-700 mb-4\",children:[/*#__PURE__*/_jsx(ArrowLeft,{className:\"h-4 w-4 mr-1\"}),\"Back to Transactions\"]}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"Issue Book\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-500\",children:\"Issue a book to a library member\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 gap-6 lg:grid-cols-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow sm:rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-5 sm:p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg leading-6 font-medium text-gray-900 mb-4\",children:\"Select Member\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Search,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search members by name or email...\",value:memberSearchTerm,onChange:handleMemberSearch,className:\"pl-10 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('member_id',{required:'Member is required'})),{},{type:\"hidden\"}))]}),members.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 border border-gray-200 rounded-md max-h-60 overflow-y-auto\",children:members.map(member=>/*#__PURE__*/_jsxs(\"div\",{onClick:()=>selectMember(member),className:\"px-4 py-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm font-medium text-gray-900\",children:[member.firstName,\" \",member.lastName]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500\",children:[member.email,\" \\u2022 \",member.membershipType]})]},member.id))}),selectedMember&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 p-4 bg-blue-50 rounded-md\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-blue-900\",children:\"Selected Member\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-1 text-sm text-blue-700\",children:[selectedMember.firstName,\" \",selectedMember.lastName]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-blue-600\",children:[selectedMember.email,\" \\u2022 \",selectedMember.membershipType]})]}),errors.member_id&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.member_id.message})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow sm:rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-5 sm:p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg leading-6 font-medium text-gray-900 mb-4\",children:\"Select Book\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Search,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search books by title or author...\",value:bookSearchTerm,onChange:handleBookSearch,className:\"pl-10 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('book_id',{required:'Book is required'})),{},{type:\"hidden\"}))]}),books.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 border border-gray-200 rounded-md max-h-60 overflow-y-auto\",children:books.map(book=>/*#__PURE__*/_jsxs(\"div\",{onClick:()=>selectBook(book),className:\"px-4 py-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:book.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500\",children:[\"by \",book.author,\" \\u2022 \",book.availableCopies,\" available\"]})]},book.id))}),selectedBook&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 p-4 bg-green-50 rounded-md\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-green-900\",children:\"Selected Book\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-1 text-sm text-green-700\",children:selectedBook.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-green-600\",children:[\"by \",selectedBook.author,\" \\u2022 \",selectedBook.availableCopies,\" available\"]})]}),errors.book_id&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.book_id.message})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow sm:rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-5 sm:p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg leading-6 font-medium text-gray-900 mb-4\",children:\"Issue Details\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 gap-6 sm:grid-cols-2\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"due_date\",className:\"block text-sm font-medium text-gray-700\",children:\"Due Date\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('due_date',{required:'Due date is required'})),{},{type:\"date\",min:new Date().toISOString().split('T')[0],className:\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"})),errors.due_date&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.due_date.message})]})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>navigate('/transactions'),className:\"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"Cancel\"}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",disabled:saving||!selectedMember||!selectedBook,className:\"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\",children:[saving?/*#__PURE__*/_jsx(Loader,{className:\"h-4 w-4 mr-2 animate-spin\"}):/*#__PURE__*/_jsx(Save,{className:\"h-4 w-4 mr-2\"}),saving?'Issuing...':'Issue Book']})]})]})]});};export default IssueBook;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useForm","ArrowLeft","Save","Loader","Search","membersAPI","booksAPI","transactionsAPI","LoadingSpinner","toast","jsx","_jsx","jsxs","_jsxs","IssueBook","navigate","loading","setLoading","saving","setSaving","members","setMembers","books","setBooks","selectedMember","setSelectedMember","selectedBook","setSelectedBook","memberSearchTerm","setMemberSearchTerm","bookSearchTerm","setBookSearchTerm","register","handleSubmit","formState","errors","setValue","watch","memberId","bookId","fetchMemberDetails","fetchBookDetails","id","response","getMemberById","data","error","console","getBookById","searchMembers","query","length","getMembers","search","limit","searchBooks","getBooks","handleMemberSearch","e","target","value","handleBookSearch","selectMember","member","concat","firstName","lastName","email","selectBook","book","title","author","onSubmit","dueDate","Date","setDate","getDate","due_date","toISOString","split","issueBook","success","className","children","onClick","type","placeholder","onChange","_objectSpread","required","map","membershipType","member_id","message","availableCopies","book_id","htmlFor","min","disabled"],"sources":["C:/Drive_D/IIITDM_Kurnool_College_Materials/3rd_Year/5th_Sem/DBMS_PROJECT_NEW/LMS-DBMS/frontend/src/pages/IssueBook.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useForm } from 'react-hook-form';\r\nimport { ArrowLeft, Save, Loader, Search } from 'lucide-react';\r\nimport { membersAPI, booksAPI, transactionsAPI } from '../services/api';\r\nimport LoadingSpinner from '../components/LoadingSpinner';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst IssueBook = () => {\r\n  const navigate = useNavigate();\r\n  const [loading, setLoading] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n  const [members, setMembers] = useState([]);\r\n  const [books, setBooks] = useState([]);\r\n  const [selectedMember, setSelectedMember] = useState(null);\r\n  const [selectedBook, setSelectedBook] = useState(null);\r\n  const [memberSearchTerm, setMemberSearchTerm] = useState('');\r\n  const [bookSearchTerm, setBookSearchTerm] = useState('');\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n    setValue,\r\n    watch\r\n  } = useForm();\r\n\r\n  const memberId = watch('member_id');\r\n  const bookId = watch('book_id');\r\n\r\n  useEffect(() => {\r\n    if (memberId) {\r\n      fetchMemberDetails(memberId);\r\n    }\r\n  }, [memberId]);\r\n\r\n  useEffect(() => {\r\n    if (bookId) {\r\n      fetchBookDetails(bookId);\r\n    }\r\n  }, [bookId]);\r\n\r\n  const fetchMemberDetails = async (id) => {\r\n    try {\r\n      const response = await membersAPI.getMemberById(id);\r\n      setSelectedMember(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching member:', error);\r\n      setSelectedMember(null);\r\n    }\r\n  };\r\n\r\n  const fetchBookDetails = async (id) => {\r\n    try {\r\n      const response = await booksAPI.getBookById(id);\r\n      setSelectedBook(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching book:', error);\r\n      setSelectedBook(null);\r\n    }\r\n  };\r\n\r\n  const searchMembers = async (query) => {\r\n    if (query.length < 2) {\r\n      setMembers([]);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      const response = await membersAPI.getMembers({ \r\n        search: query, \r\n        limit: 10 \r\n      });\r\n      setMembers(response.data.members);\r\n    } catch (error) {\r\n      console.error('Error searching members:', error);\r\n      toast.error('Failed to search members');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const searchBooks = async (query) => {\r\n    if (query.length < 2) {\r\n      setBooks([]);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      const response = await booksAPI.getBooks({ \r\n        search: query, \r\n        limit: 10 \r\n      });\r\n      setBooks(response.data.books);\r\n    } catch (error) {\r\n      console.error('Error searching books:', error);\r\n      toast.error('Failed to search books');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleMemberSearch = (e) => {\r\n    const query = e.target.value;\r\n    setMemberSearchTerm(query);\r\n    searchMembers(query);\r\n  };\r\n\r\n  const handleBookSearch = (e) => {\r\n    const query = e.target.value;\r\n    setBookSearchTerm(query);\r\n    searchBooks(query);\r\n  };\r\n\r\n  const selectMember = (member) => {\r\n    setSelectedMember(member);\r\n    setValue('member_id', member.id);\r\n    setMemberSearchTerm(`${member.firstName} ${member.lastName} (${member.email})`);\r\n    setMembers([]);\r\n  };\r\n\r\n  const selectBook = (book) => {\r\n    setSelectedBook(book);\r\n    setValue('book_id', book.id);\r\n    setBookSearchTerm(`${book.title} by ${book.author}`);\r\n    setBooks([]);\r\n  };\r\n\r\n  const onSubmit = async (data) => {\r\n    try {\r\n      setSaving(true);\r\n      \r\n      // Calculate due date (default 14 days from now)\r\n      const dueDate = new Date();\r\n      dueDate.setDate(dueDate.getDate() + 14);\r\n      data.due_date = dueDate.toISOString().split('T')[0];\r\n\r\n      await transactionsAPI.issueBook(data);\r\n      toast.success('Book issued successfully');\r\n      navigate('/transactions');\r\n    } catch (error) {\r\n      console.error('Error issuing book:', error);\r\n      toast.error('Failed to issue book');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-4xl mx-auto\">\r\n      {/* Header */}\r\n      <div className=\"mb-6\">\r\n        <button\r\n          onClick={() => navigate('/transactions')}\r\n          className=\"inline-flex items-center text-sm text-gray-500 hover:text-gray-700 mb-4\"\r\n        >\r\n          <ArrowLeft className=\"h-4 w-4 mr-1\" />\r\n          Back to Transactions\r\n        </button>\r\n        <h1 className=\"text-2xl font-bold text-gray-900\">Issue Book</h1>\r\n        <p className=\"mt-1 text-sm text-gray-500\">\r\n          Issue a book to a library member\r\n        </p>\r\n      </div>\r\n\r\n      {/* Form */}\r\n      <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-6\">\r\n        <div className=\"grid grid-cols-1 gap-6 lg:grid-cols-2\">\r\n          {/* Member Selection */}\r\n          <div className=\"bg-white shadow sm:rounded-lg\">\r\n            <div className=\"px-4 py-5 sm:p-6\">\r\n              <h3 className=\"text-lg leading-6 font-medium text-gray-900 mb-4\">\r\n                Select Member\r\n              </h3>\r\n              \r\n              <div className=\"relative\">\r\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Search members by name or email...\"\r\n                  value={memberSearchTerm}\r\n                  onChange={handleMemberSearch}\r\n                  className=\"pl-10 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\r\n                />\r\n                <input\r\n                  {...register('member_id', { required: 'Member is required' })}\r\n                  type=\"hidden\"\r\n                />\r\n              </div>\r\n\r\n              {/* Member Search Results */}\r\n              {members.length > 0 && (\r\n                <div className=\"mt-2 border border-gray-200 rounded-md max-h-60 overflow-y-auto\">\r\n                  {members.map((member) => (\r\n                    <div\r\n                      key={member.id}\r\n                      onClick={() => selectMember(member)}\r\n                      className=\"px-4 py-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0\"\r\n                    >\r\n                      <div className=\"text-sm font-medium text-gray-900\">\r\n                        {member.firstName} {member.lastName}\r\n                      </div>\r\n                      <div className=\"text-sm text-gray-500\">\r\n                        {member.email} • {member.membershipType}\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n\r\n              {/* Selected Member */}\r\n              {selectedMember && (\r\n                <div className=\"mt-4 p-4 bg-blue-50 rounded-md\">\r\n                  <div className=\"text-sm font-medium text-blue-900\">\r\n                    Selected Member\r\n                  </div>\r\n                  <div className=\"mt-1 text-sm text-blue-700\">\r\n                    {selectedMember.firstName} {selectedMember.lastName}\r\n                  </div>\r\n                  <div className=\"text-xs text-blue-600\">\r\n                    {selectedMember.email} • {selectedMember.membershipType}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {errors.member_id && (\r\n                <p className=\"mt-1 text-sm text-red-600\">{errors.member_id.message}</p>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Book Selection */}\r\n          <div className=\"bg-white shadow sm:rounded-lg\">\r\n            <div className=\"px-4 py-5 sm:p-6\">\r\n              <h3 className=\"text-lg leading-6 font-medium text-gray-900 mb-4\">\r\n                Select Book\r\n              </h3>\r\n              \r\n              <div className=\"relative\">\r\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Search books by title or author...\"\r\n                  value={bookSearchTerm}\r\n                  onChange={handleBookSearch}\r\n                  className=\"pl-10 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\r\n                />\r\n                <input\r\n                  {...register('book_id', { required: 'Book is required' })}\r\n                  type=\"hidden\"\r\n                />\r\n              </div>\r\n\r\n              {/* Book Search Results */}\r\n              {books.length > 0 && (\r\n                <div className=\"mt-2 border border-gray-200 rounded-md max-h-60 overflow-y-auto\">\r\n                  {books.map((book) => (\r\n                    <div\r\n                      key={book.id}\r\n                      onClick={() => selectBook(book)}\r\n                      className=\"px-4 py-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0\"\r\n                    >\r\n                      <div className=\"text-sm font-medium text-gray-900\">\r\n                        {book.title}\r\n                      </div>\r\n                      <div className=\"text-sm text-gray-500\">\r\n                        by {book.author} • {book.availableCopies} available\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n\r\n              {/* Selected Book */}\r\n              {selectedBook && (\r\n                <div className=\"mt-4 p-4 bg-green-50 rounded-md\">\r\n                  <div className=\"text-sm font-medium text-green-900\">\r\n                    Selected Book\r\n                  </div>\r\n                  <div className=\"mt-1 text-sm text-green-700\">\r\n                    {selectedBook.title}\r\n                  </div>\r\n                  <div className=\"text-xs text-green-600\">\r\n                    by {selectedBook.author} • {selectedBook.availableCopies} available\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {errors.book_id && (\r\n                <p className=\"mt-1 text-sm text-red-600\">{errors.book_id.message}</p>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Issue Details */}\r\n        <div className=\"bg-white shadow sm:rounded-lg\">\r\n          <div className=\"px-4 py-5 sm:p-6\">\r\n            <h3 className=\"text-lg leading-6 font-medium text-gray-900 mb-4\">\r\n              Issue Details\r\n            </h3>\r\n            \r\n            <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2\">\r\n              <div>\r\n                <label htmlFor=\"due_date\" className=\"block text-sm font-medium text-gray-700\">\r\n                  Due Date\r\n                </label>\r\n                <input\r\n                  {...register('due_date', { required: 'Due date is required' })}\r\n                  type=\"date\"\r\n                  min={new Date().toISOString().split('T')[0]}\r\n                  className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\r\n                />\r\n                {errors.due_date && (\r\n                  <p className=\"mt-1 text-sm text-red-600\">{errors.due_date.message}</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Actions */}\r\n        <div className=\"flex justify-end space-x-3\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => navigate('/transactions')}\r\n            className=\"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            type=\"submit\"\r\n            disabled={saving || !selectedMember || !selectedBook}\r\n            className=\"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n          >\r\n            {saving ? (\r\n              <Loader className=\"h-4 w-4 mr-2 animate-spin\" />\r\n            ) : (\r\n              <Save className=\"h-4 w-4 mr-2\" />\r\n            )}\r\n            {saving ? 'Issuing...' : 'Issue Book'}\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default IssueBook;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}